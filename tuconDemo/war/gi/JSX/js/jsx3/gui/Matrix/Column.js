/*
 * Copyright (c) 2001-2009, TIBCO Software Inc.
 * Use, modification, and distribution subject to terms of license.
 */
jsx3.require("jsx3.gui.Block");jsx3.Class.defineClass("jsx3.gui.Matrix.Column",jsx3.gui.Block,null,function(o,c){var
ub={A:"There is a signature/type error when evaluating the format handler: ",B:"Error evaluating the format handler string: ",C:"100%",D:"inline",E:"td",F:"div",G:'id="',H:'"',I:"mousedown",J:"tl",K:"click",L:"DQ",M:'class="jsx30matrixcolumn_value"',N:"background-image:url(",O:"ascending",P:");",Q:"url(",R:")",S:'<colgroup style="',T:'"></colgroup>',U:"background-color:",V:";",W:"{$jsx_rowbg}",X:"color:",Y:"cursor:",Z:"font-family:",_:"font-size:",a:"text",aa:"px;",b:"number",ba:"font-weight:",c:"top",ca:"white-space:nowrap;overflow:hidden;",d:"default",da:"text-align:",e:'<xsl:template xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <xsl:param name="jsx_row_number"/>\n  <xsl:if test="@jsxcellstyle">\n    <xsl:attribute name="style"><xsl:value-of select="@jsxcellstyle"/></xsl:attribute>\n  </xsl:if>\n  <xsl:value-of select="{0}"/>&#160;\n</xsl:template>',ea:"left",f:"empty",fa:"vertical-align:",g:'<xsl:template xmlns:xsl="http://www.w3.org/1999/XSL/Transform"></xsl:template>',ga:"jsxautorow",h:"unescape",i:'<xsl:template xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <xsl:param name="jsx_row_number"/>\n  <xsl:if test="@jsxcellstyle">\n    <xsl:attribute name="style"><xsl:value-of select="@jsxcellstyle"/></xsl:attribute>\n  </xsl:if>\n  <xsl:value-of select="{0}" disable-output-escaping="yes"/>&#160;\n</xsl:template>',j:"image",k:"<xsl:template xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n  <xsl:if test=\"@jsxcellstyle\">\n    <xsl:attribute name=\"style\"><xsl:value-of select=\"@jsxcellstyle\"/></xsl:attribute>\n  </xsl:if>\n  <xsl:if test=\"{0} and not ({0} = '')\"><img style=\"position:relative;\"",l:">\n",m:'    <xsl:attribute name="src"><xsl:apply-templates select="{0}" mode="uri-resolver"/></xsl:attribute>\n',n:"  </img></xsl:if>\n",o:"</xsl:template>",p:"@",q:"The following value template type is not supported: ",r:"<xsl:template",s:"jsxid",t:"function",u:"object",v:"_jsxgF",w:"",x:"undefined",y:"var fn = ",z:"; fn;"};var
Ab=jsx3.util.Logger.getLogger(o.jsxclass.getName());var
Lb=jsx3.gui.Event;o.DEFAULT_WIDTH=100;o.TYPE_TEXT=ub.a;o.TYPE_NUMBER=ub.b;o.DEFAULT_VALIGN=ub.c;o.TEMPLATES={};o.TEMPLATES[ub.d]=ub.e;o.TEMPLATES[ub.f]=ub.g;o.TEMPLATES[ub.h]=ub.i;o.TEMPLATES[ub.j]=ub.k+jsx3.html.pe+ub.l+ub.m+ub.n+ub.o;c.init=function(i){this.jsxsuper(i);};c.getValueTemplate=function(m){if(this.jsxvaluetemplate!=null)if(this.jsxvaluetemplate.charAt(0)==ub.p){var
ab=o.TEMPLATES[this.jsxvaluetemplate.substring(1)];if(ab){return ab;}else Ab.error(ub.q+this.jsxvaluetemplate);}else if((jsx3.util.strTrim(this.jsxvaluetemplate)).indexOf(ub.r)==0)return this.jsxvaluetemplate;if(m!=null)return m;};c.setValueTemplate=function(f){this.jsxvaluetemplate=f;this.i5();};c.getResizable=function(){return this.jsxresize;};c.setResizable=function(b){this.jsxresize=b;this.eI();};c.getTriggers=function(){return this.jsxtriggers;};c.setTriggers=function(b){this.jsxtriggers=b;};c.getPath=function(){return this.jsxpath==null?ub.s:this.jsxpath;};c.setPath=function(d,f){this.jsxpath=d;this.i5();if(!f&&this.getParent())(this.getParent()).repaint();};c.getSortPath=function(){return this.jsxsortpath!=null?this.jsxsortpath:this.getPath();};c.setSortPath=function(i){this.jsxsortpath=i;};c.getDataType=function(){return this.jsxdatatype==null?ub.a:this.jsxdatatype;};c.setDataType=function(l){this.jsxdatatype=l;};c.getSortDataType=function(){return this.jsxsortdatatype==null?this.getDataType():this.jsxsortdatatype;};c.setSortDataType=function(p){this.jsxsortdatatype=p;};c.getCanSort=function(){return this.jsxsort;};c.setCanSort=function(q){this.jsxsort=q;this.eI();};c.setFormatHandler=function(b){if(typeof b==ub.t){this._jsxgF=new
jsx3.gui.Matrix.ColumnFormat();this._jsxgF.format=b;}else if(b&&typeof b==ub.u&&typeof b.format==ub.t){this._jsxgF=b;}else{delete this[ub.v];this.jsxformathandler=b!=null?b+ub.w:null;}};c.getFormatHandler=function(){return this.jsxformathandler;};c.bf=function(){if(typeof this._jsxgF==ub.x)if(this.jsxformathandler){this._jsxgF=jsx3.gui.Matrix.ColumnFormat.getInstance(this.jsxformathandler,this);if(this._jsxgF==null)try{var
ab=this.eval(ub.y+this.jsxformathandler+ub.z);if(typeof ab==ub.u&&typeof ab.format==ub.t&&typeof ab.validate==ub.t){this._jsxgF=ab;}else if(typeof ab==ub.t){this._jsxgF=new
jsx3.gui.Matrix.ColumnFormat();this._jsxgF.format=ab;}else Ab.error(ub.A+this.jsxformathandler);}catch(Kb){Ab.error(ub.B+this.jsxformathandler,jsx3.NativeError.wrap(Kb));}}else this._jsxgF=null;return this._jsxgF;};c.Rc=function(h,e,j){var
Ca=this.Wl(true,h);var
Db=Ca.recalculate(h,null,j);var
ea=this.getParent();var
ca=Ca.lg(0);ca.recalculate({height:Ca.Qi()},null,j);var
H=Ca.lg(1);var
ya={parentwidth:h.parentwidth};if(this.s5()){var
bb=ea.getRowHeight(jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT);ya.height=bb?bb:jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT;}H.recalculate(ya,null,j);if(this.s5()){var
Ea=H.lg(0);Ea.recalculate({height:H.Qi()},null,j);}if(Db.w)ea.resetXslCacheData();return Db;};c.Vm=function(g){this.applyDynamicProperties();var
za=this.getParent();if(za&&(g==null||isNaN(g.parentwidth)||isNaN(g.parentheight))){g=za.ng(this);}else if(g==null)g={};g.width=ub.C;g.height=ub.C;g.boxtype=ub.D;g.tagname=ub.E;var
vb,fb;if((vb=this.getBorder())!=null&&vb!=ub.w)g.border=vb;if((fb=this.getPadding())!=null&&fb!=ub.w)g.padding=fb;var
O=new
jsx3.gui.Painted.Box(g);var
ib={};ib.height=O.Qi();ib.boxtype=ub.D;ib.tagname=ub.F;var
Ba=new
jsx3.gui.Painted.Box(ib);O.bl(Ba);var
G={};if(this.s5()){var
Jb=za.getRowHeight(jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT);G.height=Jb?Jb:jsx3.gui.Matrix.DEFAULT_ROW_HEIGHT;}G.width=ub.C;G.boxtype=ub.D;G.tagname=ub.E;G.parentwidth=g.parentwidth;if((vb=this.getCellBorder())!=null&&vb!=ub.w)G.border=vb;if((fb=this.getCellPadding())!=null&&fb!=ub.w)G.padding=fb;var
qa=new
jsx3.gui.Painted.Box(G);O.bl(qa);var
P={};if(this.s5())P.height=qa.Qi();P.boxtype=ub.D;P.tagname=ub.F;var
Oa=new
jsx3.gui.Painted.Box(P);qa.bl(Oa);return O;};c.s5=function(){var
ab=this.getParent();if(ab){if(ab.getPagingModel()==3)return true;return ab.getRowHeight()!=0;}return true;};c.paint=function(){this.applyDynamicProperties();var
N=this.getParent();var
Aa=this.Wl(true);Aa.setAttributes(ub.G+this.getId()+ub.H+jsx3.html.pe+this.Rh()+N.pi(ub.I,ub.J)+N.pi(ub.K,ub.L));Aa.setStyles(this.yg()+this.Uc()+this.ti()+this.Gd()+this._i()+this.Ak()+this.paintVAlign());var
cb=Aa.lg(0);cb.setAttributes(ub.M+jsx3.html.pe);cb.setStyles(this.paintWrap()+this.wm()+this.ze()+this.kz());return (Aa.paint()).join((cb.paint()).join(this.ii()));};c.repaint=function(){this.eI();};c.kz=function(){if(this.getSortPath()==(this.getParent()).getSortPath())return ub.N+((this.getParent()).getSortDirection()==ub.O?jsx3.gui.Matrix.SORT_ASCENDING_IMG:jsx3.gui.Matrix.SORT_DESCENDING_IMG)+ub.P;return ub.w;};c._applySortIcon=function(j){(this.getRendered()).childNodes[0].style.backgroundImage=j?ub.Q+((this.getParent()).getSortDirection()==ub.O?jsx3.gui.Matrix.SORT_ASCENDING_IMG:jsx3.gui.Matrix.SORT_DESCENDING_IMG)+ub.R:ub.w;};c.LV=function(){return ub.S+this.Qm()+ub.T;};c.setWidth=function(d,l){this.jsxwidth=d;var
D=this.getParent();if(D)D.ge((D.getParent()).ng(D),true);return this;};c.setDisplay=function(p,k){this.jsxdisplay=p;var
y=this.getParent();if(y){y.aI();if(k)y.repaint();}return this;};c.getDisplayIndex=function(){var
I=this.getParent();if(I){var
sb=I.Xi();for(var
X=0;X<sb.length;X++)if(sb[X]==this)return X;}};c.Qm=function(){return this.getCellBackgroundColor()?ub.U+this.getCellBackgroundColor()+ub.V:ub.W;};c.cc=function(){return this.getCellBorder()?this.getCellBorder()+ub.V:ub.w;};c.lo=function(){return this.getCellColor()?ub.X+this.getCellColor()+ub.V:ub.V;};c.am=function(){return this.getCellCursor()?ub.Y+this.getCellCursor()+ub.V:ub.w;};c.yi=function(){if(!this.getCellFontName())return ub.w;return ub.Z+(this.getCellFontName()?this.getCellFontName():jsx3.gui.Block.DEFAULTFONTNAME)+ub.V;};c.Hg=function(){if(!this.getCellFontSize())return ub.w;return ub._+(this.getCellFontSize()?this.getCellFontSize():jsx3.gui.Block.DEFAULTFONTSIZE)+ub.aa;};c.fo=function(){return this.getCellFontWeight()?ub.ba+this.getCellFontWeight()+ub.V:ub.w;};c.paintWrap=function(){return this.getWrap(0)==0?ub.ca:ub.w;};c.Sb=function(){return this.getCellWrap(0)==0?ub.ca:ub.w;};c.Fd=function(){return ub.da+(this.getCellTextAlign()?this.getCellTextAlign():ub.ea)+ub.V;};c.paintVAlign=function(){return ub.fa+(this.getVAlign()?this.getVAlign():ub.c)+ub.V;};c.On=function(){return ub.fa+(this.getCellVAlign()?this.getCellVAlign():ub.c)+ub.V;};c.getCellBackgroundColor=function(){return this.jsxcellbgcolor;};c.setCellBackgroundColor=function(d){this.jsxcellbgcolor=d;this.i5();};c.getCellBorder=function(){return this.jsxcellborder;};c.setCellBorder=function(a,q){this.jsxcellborder=a;this.i5();if(!q&&this.getParent())(this.getParent()).repaint();};c.getCellColor=function(){return this.jsxcellcolor;};c.setCellColor=function(q){this.jsxcellcolor=q;this.i5();};c.getCellCursor=function(){return this.jsxcellcursor;};c.setCellCursor=function(i){this.jsxcellcursor=i;this.i5();};c.getCellFontName=function(){return this.jsxcellfontname;};c.setCellFontName=function(m){this.jsxcellfontname=m;this.i5();};c.getCellFontSize=function(){return this.jsxcellfontsize;};c.setCellFontSize=function(h){this.jsxcellfontsize=h;this.i5();};c.getCellFontWeight=function(){return this.jsxcellfontweight;};c.setCellFontWeight=function(f){this.jsxcellfontweight=f;this.i5();};c.getCellPadding=function(){return this.jsxcellpadding;};c.setCellPadding=function(e,m){this.jsxcellpadding=e;this.i5();if(!m&&this.getParent())(this.getParent()).repaint();};c.getCellTextAlign=function(){return this.jsxcelltextalign;};c.setCellTextAlign=function(l){this.jsxcelltextalign=l;this.i5();};c.getCellVAlign=function(){return this.jsxcellvalign;};c.setCellVAlign=function(l){this.jsxcellvalign=l;this.i5();};c.getCellWrap=function(m){return this.jsxcellwrap!=null?this.jsxcellwrap:m!=null?m:null;};c.setCellWrap=function(m){this.jsxcellwrap=m;this.i5();};c.setBorder=function(l){this.jsxborder=l;this.clearBoxProfile();this.eI();};c.setPadding=function(l){this.jsxpadding=l;this.clearBoxProfile();this.eI();};c.getWrap=function(s){return this.jsxwrap!=null?this.jsxwrap:s!=null?s:null;};c.setWrap=function(d){this.jsxwrap=d;this.eI();};c.getVAlign=function(){return this.jsxvalign;};c.setVAlign=function(i){this.jsxvalign=i;this.eI();};c.setText=function(d,i){this.jsxtext=d;var
ea;if(i&&(ea=this.getRendered())!=null)ea.childNodes[0].innerHTML=d;return this;};c.getEditMask=function(){return this.getChild(0);};c.getEditMasks=function(){return this.getChildren();};c.getValueForRecord=function(k){var
Ra=(this.getParent()).getRecordNode(k);if(Ra)return Ra.getAttribute(this.getPath());else if(k==ub.ga)return ((this.getParent()).getAutoRowSession())[this.getPath()];};c.setValueForRecord=function(l,d){var
oa=(this.getParent()).getRecordNode(l);if(oa)oa.setAttribute(this.getPath(),d);else if(l==ub.ga)((this.getParent()).getAutoRowSession())[this.getPath()]=d;};c.onSetParent=function(f){return jsx3.gui.Matrix&&f instanceof jsx3.gui.Matrix;};c.i5=function(){var
J=this.getParent();if(J)J.aI();};c.eI=function(){var
Q=this.getParent();if(Q)Q.repaintHead();};});jsx3.gui.MatrixColumn=jsx3.gui.Matrix.Column;
