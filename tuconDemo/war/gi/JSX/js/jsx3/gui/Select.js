/*
 * Copyright (c) 2001-2009, TIBCO Software Inc.
 * Use, modification, and distribution subject to terms of license.
 */
jsx3.require("jsx3.xml.Cacheable","jsx3.gui.Form","jsx3.gui.Heavyweight","jsx3.gui.Block","jsx3.util.MessageFormat");jsx3.Class.defineClass("jsx3.gui.Select",jsx3.gui.Block,[jsx3.gui.Form,jsx3.xml.Cacheable,jsx3.xml.CDF],function(i,q){var
ub={A:"url(",Aa:"relativebox",B:")",Ba:"box",C:"'",Ca:"0 0 0 0",D:"//record[@jsxtext='",Da:"0 19 0 0",E:"' or (not(@jsxtext) and @jsxid='",Ea:"100%",F:"')]",Fa:"2 0 0 3",G:'//record[@jsxtext="',Ga:"inline",H:'" or (not(@jsxtext) and @jsxid="',Ha:"input[text]",I:'")]',Ia:"0 0 0 4",J:"_isfocusing",Ja:"solid 0px;solid 1px #c8c8d5;solid 0px;solid 0px",K:"x",Ka:"jsxkeyup",L:"body",La:"keyup",M:"JSX_GENERIC",Ma:"JF",N:"null",Na:"focus",O:"jsxabspath",Oa:"NQ",P:"jsxhomepath",Pa:' id="',Q:"jsxtext",Qa:' class="',R:"combo",Ra:'" jsxtype="Select" ',S:/\<div/i,Sa:"background-image:url(",T:"jsx3.gui.Select.",Ta:");background-repeat:no-repeat;background-position:right 0px;",U:"dataUnavailable",Ua:' class="jsx30select_display" jsxtype="Display" ',V:"noMatch",Va:' jsxtype="Text" class="jsx30select_text"',W:"0px;1px;0px;1px",Wa:'class="jsx30combo"',X:'<div style="height:1px;width:',Xa:' class="jsx30combo_text" value="',Y:"px;position:relative;left:0px;top:0px;",Ya:'" jsxtype="Text" ',Z:'padding:0px;margin:0px 0px -1px 0px;overflow:hidden;">&#160;</div>',Za:"blur",_:'<div tabindex="0" jsxselid="',_a:"KW",a:"#ffffff",aa:'"',ab:"input",b:"- Select -",ba:"keydown",bb:"jsxbeforeselect",c:"jsx:///xsl/jsxselect.xsl",ca:"gu",cb:"jsxselect",d:"<?xml version=\"1.0\" encoding=\"UTF-8\"?><xsl:stylesheet xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"><xsl:output method=\"xml\" omit-xml-declaration=\"yes\"/><xsl:variable name=\"upperCase\" select=\"'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\"/><xsl:variable name=\"lowerCase\" select=\"'abcdefghijklmnopqrstuvwxyz'\"/><xsl:param name=\"jsxtabindex\">0</xsl:param><xsl:param name=\"jsxselectedimage\"/><xsl:param name=\"jsxtransparentimage\"/><xsl:param name=\"jsxdragtype\">JSX_GENERIC</xsl:param><xsl:param name=\"jsxselectedid\">null</xsl:param><xsl:param name=\"jsxsortpath\"/><xsl:param name=\"jsxsortdirection\">ascending</xsl:param><xsl:param name=\"jsxsorttype\">text</xsl:param><xsl:param name=\"jsxid\">_jsx</xsl:param><xsl:param name=\"jsxtext\"/><xsl:param name=\"jsxmode\">0</xsl:param><xsl:param name=\"jsxdisableescape\">no</xsl:param><xsl:param name=\"jsxshallowfrom\"/><xsl:param name=\"jsxcasesensitive\">0</xsl:param><xsl:param name=\"jsxnocheck\">0</xsl:param><xsl:param name=\"jsx_img_resolve\">1</xsl:param><xsl:param name=\"jsx_type\">select</xsl:param><xsl:param name=\"jsxtitle\"/><xsl:param name=\"jsxasyncmessage\"/><xsl:param name=\"jsxpath\"/><xsl:param name=\"jsxpathapps\"/><xsl:param name=\"jsxpathprefix\"/><xsl:param name=\"jsxappprefix\"/><xsl:template match=\"/\"><JSX_FF_WELLFORMED_WRAPPER><xsl:choose><xsl:when test=\"$jsxasyncmessage and $jsxasyncmessage!=''\"><xsl:value-of select=\"$jsxasyncmessage\"/></xsl:when><xsl:when test=\"$jsxshallowfrom\"><xsl:for-each select=\"//*[@jsxid=$jsxshallowfrom]/record\"><xsl:sort data-type=\"{$jsxsorttype}\" order=\"{$jsxsortdirection}\" select=\"@*[name()=$jsxsortpath]\"/><xsl:choose><xsl:when test=\"$jsx_type='select'\"><xsl:apply-templates mode=\"select\" select=\".\"/></xsl:when><xsl:otherwise><xsl:apply-templates mode=\"combo\" select=\".\"/></xsl:otherwise></xsl:choose></xsl:for-each></xsl:when><xsl:otherwise><xsl:for-each select=\"//record\"><xsl:sort data-type=\"{$jsxsorttype}\" order=\"{$jsxsortdirection}\" select=\"@*[name()=$jsxsortpath]\"/><xsl:choose><xsl:when test=\"$jsx_type='select'\"><xsl:apply-templates mode=\"select\" select=\".\"/></xsl:when><xsl:otherwise><xsl:apply-templates mode=\"combo\" select=\".\"/></xsl:otherwise></xsl:choose></xsl:for-each></xsl:otherwise></xsl:choose></JSX_FF_WELLFORMED_WRAPPER></xsl:template><xsl:template match=\"record\" mode=\"select\"><xsl:param name=\"myjsxid\" select=\"@jsxid\"/><div class=\"jsx30select_{$jsxmode}_option\" id=\"{$jsxid}_{$myjsxid}\" jsxid=\"{@jsxid}\" jsxtype=\"Option\" tabindex=\"{$jsxtabindex}\" title=\"{@jsxtip}\"><xsl:if test=\"@jsxstyle\"><xsl:attribute name=\"style\"><xsl:value-of select=\"@jsxstyle\"/></xsl:attribute></xsl:if><xsl:if test=\"$jsxnocheck != '1'\"><xsl:choose><xsl:when test=\"$jsxselectedid=@jsxid\"><img class=\"jsx30select_check\" src=\"{$jsxselectedimage}\" unselectable=\"on\"/></xsl:when><xsl:otherwise><img class=\"jsx30select_check\" src=\"{$jsxtransparentimage}\" unselectable=\"on\"/></xsl:otherwise></xsl:choose></xsl:if><xsl:if test=\"@jsximg and @jsximg != ''\"><xsl:variable name=\"src1\"><xsl:choose><xsl:when test=\"$jsx_img_resolve='1'\"><xsl:apply-templates mode=\"uri-resolver\" select=\"@jsximg\"/></xsl:when><xsl:otherwise><xsl:value-of select=\"@jsximg\"/></xsl:otherwise></xsl:choose></xsl:variable><img class=\"jsx30select_icon\" src=\"{$src1}\" unselectable=\"on\"/></xsl:if><span><xsl:apply-templates mode=\"jsxtext\" select=\".\"/></span></div></xsl:template><xsl:template match=\"record\" mode=\"combo\"><xsl:variable name=\"mytext\"><xsl:choose><xsl:when test=\"@jsxtext\"><xsl:value-of select=\"@jsxtext\"/></xsl:when><xsl:otherwise><xsl:value-of select=\"@jsxid\"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:if test=\"(not($jsxcasesensitive = 1) and starts-with(translate($mytext, $lowerCase, $upperCase), translate($jsxtext, $lowerCase, $upperCase)))         or (starts-with($mytext, $jsxtext))\"><div class=\"jsx30select_{$jsxmode}_option\" id=\"{$jsxid}_{@jsxid}\" jsxid=\"{@jsxid}\" jsxtype=\"Option\" tabindex=\"{$jsxtabindex}\" title=\"{@jsxtip}\"><xsl:if test=\"@jsxstyle\"><xsl:attribute name=\"style\"><xsl:value-of select=\"@jsxstyle\"/></xsl:attribute></xsl:if><xsl:if test=\"$jsxnocheck != '1'\"><xsl:choose><xsl:when test=\"$jsxselectedid=@jsxid\"><img class=\"jsx30select_check\" src=\"{$jsxselectedimage}\" unselectable=\"on\"/></xsl:when><xsl:otherwise><img class=\"jsx30select_check\" src=\"{$jsxtransparentimage}\" unselectable=\"on\"/></xsl:otherwise></xsl:choose></xsl:if><xsl:if test=\"@jsximg and @jsximg != ''\"><xsl:variable name=\"src1\"><xsl:choose><xsl:when test=\"$jsx_img_resolve='1'\"><xsl:apply-templates mode=\"uri-resolver\" select=\"@jsximg\"/></xsl:when><xsl:otherwise><xsl:value-of select=\"@jsximg\"/></xsl:otherwise></xsl:choose></xsl:variable><img class=\"jsx30select_icon\" src=\"{$src1}\" unselectable=\"on\"/></xsl:if><span><xsl:apply-templates mode=\"jsxtext\" select=\".\"><xsl:with-param name=\"value\" select=\"$mytext\"/></xsl:apply-templates></span></div></xsl:if></xsl:template><xsl:template match=\"record\" mode=\"jsxtext\"><xsl:param name=\"value\" select=\"@jsxtext\"/><xsl:choose><xsl:when test=\"$jsxdisableescape='yes'\"><xsl:call-template name=\"disable-output-escp\"><xsl:with-param name=\"value\" select=\"$value\"/></xsl:call-template></xsl:when><xsl:otherwise><xsl:value-of select=\"$value\"/></xsl:otherwise></xsl:choose></xsl:template><xsl:template match=\"* | @*\" mode=\"uri-resolver\"><xsl:param name=\"uri\" select=\".\"/><xsl:choose><xsl:when test=\"starts-with($uri,'JSX/')\"><xsl:value-of select=\"concat($jsxpath, $uri)\"/></xsl:when><xsl:when test=\"starts-with($uri,'JSXAPPS/')\"><xsl:value-of select=\"concat($jsxpathapps, $uri)\"/></xsl:when><xsl:when test=\"starts-with($uri,'GI_Builder/')\"><xsl:value-of select=\"concat($jsxpath, $uri)\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsx:///')\"><xsl:value-of select=\"concat($jsxpath, 'JSX/', substring($uri,8))\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsx:/')\"><xsl:value-of select=\"concat($jsxpath, 'JSX/', substring($uri,6))\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsxapp:///')\"><xsl:value-of select=\"concat($jsxappprefix, substring($uri,11))\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsxapp://')\"><xsl:value-of select=\"concat($jsxpathapps, substring($uri,10))\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsxapp:/')\"><xsl:value-of select=\"concat($jsxappprefix, substring($uri,9))\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsxuser:///')\"><xsl:value-of select=\"concat($jsxpathapps, substring($uri,11))\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsxuser:/')\"><xsl:value-of select=\"concat($jsxpathapps, substring($uri,9))\"/></xsl:when><xsl:when test=\"starts-with($uri,'jsxaddin://')\"><xsl:value-of select=\"$uri\"/></xsl:when><xsl:when test=\"starts-with($uri,'/')\"><xsl:value-of select=\"$uri\"/></xsl:when><xsl:when test=\"contains($uri,'://')\"><xsl:value-of select=\"$uri\"/></xsl:when><xsl:when test=\"not($jsxpathprefix='') and not(starts-with($uri, $jsxpathprefix))\"><xsl:apply-templates mode=\"uri-resolver\" select=\".\"><xsl:with-param name=\"uri\" select=\"concat($jsxpathprefix, $uri)\"/></xsl:apply-templates></xsl:when><xsl:otherwise><xsl:value-of select=\"$uri\"/></xsl:otherwise></xsl:choose></xsl:template><xsl:template match=\"* | @*\" mode=\"disable-output-escp\"><xsl:call-template name=\"disable-output-escp\"><xsl:with-param name=\"value\" select=\".\"/></xsl:call-template></xsl:template><xsl:template name=\"disable-output-escp\"><xsl:param name=\"value\" select=\".\"/><xsl:choose><xsl:when test=\"function-available('msxsl:node-set')\"><xsl:value-of disable-output-escaping=\"yes\" select=\"$value\"/></xsl:when><xsl:otherwise><span class=\"disable-output-escp\"><xsl:value-of select=\"$value\"/></span></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>",da:"click",db:"3.0.00",e:"JSX_SELECT_XSL",ea:"hO",eb:' maxlength="',f:"JSX_COMBO_XSL",fa:"mousedown",fb:'" ',g:"jsx:///images/select/arrow.gif",ga:"UC",gb:" ",h:"jsx:///images/select/selectover.gif",ha:"mouseover",hb:/^(?:display|margin|left|top|position|backgroundColor|color|visibility|zIndex)$/,i:"jsx:///images/select/selected.gif",ia:"j8",ib:/^(?:backgroundColor|color)$/,j:"<div tabIndex='0' class='jsx30select_option' onmousedown='var e = jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble();'>- data unavailable -</div>",ja:' jsxtype="Options" class="jsx30select_optionlist" style="',jb:"C0",k:"<div tabIndex='0' class='jsx30select_option' onmousedown='var e = jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble();'>- no match found -</div>",ka:"min-width:",l:'<div tabIndex="0" class="jsx30select_option jsx30select_none" onmousedown="var e=jsx3.gui.Event.wrap(event); jsx3.gui.Event.publish(e); e.cancelBubble();"><span style="left:0px;">{0}</span></div>',la:"px;",m:"jsx30curvisibleoptions",ma:'">',n:"jsx30select_select",na:"</div>",o:"background-color:",oa:"W",p:";",pa:"E",q:"",qa:"S",r:"jsx3.gui.Select.defaultText",ra:"N",s:"jsxtype",sa:"px",t:"jsxid",ta:"div",u:"Display",ua:"_jsxopening",v:"Text",va:"_",w:"Select",wa:"Error focusing first object: ",x:"focusPrevious",xa:"uu",y:"focusNext",ya:"span",z:"jsxselid",za:"solid 1px #a6a6af;solid 1px #e6e6e6;solid 1px #e6e6e6;solid 1px #a6a6af"};var
ab=jsx3.util.Logger.getLogger(i.jsxclass.getName());var
na=jsx3.gui.Event;var
ta=jsx3.html;i.DEFAULTBACKGROUNDCOLOR=ub.a;i.DEFAULTTEXT=ub.b;i.DEFAULTXSLURL=jsx3.resolveURI(ub.c);i.Hs=(new
jsx3.xml.XslDocument()).loadXML(ub.d);i.SELECTXSLURL=i.DEFAULTXSLURL;i.SELECTXSLID=ub.e;i.COMBOXSLURL=i.DEFAULTXSLURL;i.COMBOXSLID=ub.f;i.ARROWICON=jsx3.resolveURI(ub.g);i.OVERIMAGE=jsx3.resolveURI(ub.h);i.SELECTEDIMAGE=jsx3.resolveURI(ub.i);ta.loadImages(i.ARROWICON,i.OVERIMAGE,i.SELECTEDIMAGE);i.NODATAMESSAGE=ub.j;i.NOMATCHMESSAGE=ub.k;i.lR=new
jsx3.util.MessageFormat(ub.l);i.TYPESELECT=0;i.TYPECOMBO=1;i.TYPEAHEADDELAY=250;i.J0=null;i.v8=null;i.KL=ub.m;i.DEFAULTCLASSNAME=ub.n;q.init=function(e,a,o,c,s,j){this.jsxsuper(e,a,o,c,s);this.jsxvalue=j;};q.getXSL=function(){return this.qj(i.DEFAULTXSLURL,i.Hs);};q.doValidate=function(){var
Sa=jsx3.gui.Form;var
Nb=this.getRequired()==0;if(!Nb){var
w=this.getValue();if(this.getType()==0){Nb=this.getRecordNode(w)!=null;}else Nb=w!=null&&w.length>0;}this.setValidationState(Nb?1:0);return this.getValidationState();};q.Uc=function(){var
xa=this.getEnabled()!=0?this.getBackgroundColor():this.getDisabledBackgroundColor()||jsx3.gui.Form.DEFAULTDISABLEDBACKGROUNDCOLOR;return xa?ub.o+xa+ub.p:ub.q;};q.getType=function(){return this.jsxtype==null?0:this.jsxtype;};q.setType=function(f){this.jsxtype=f;this.ce();return this;};q.getDefaultText=function(){return this.jsxdefaulttext!=null&&this.jsxdefaulttext!=null?this.jsxdefaulttext:this._getLocaleProp(ub.r);};q.setDefaultText=function(h){this.jsxdefaulttext=h;return this;};q.NQ=function(b,k){if(this._ebKeyDown(b,k))return;var
xb=b.srcElement();var
ja=xb.getAttribute(ub.s);var
ga=xb.getAttribute(ub.t);var
U=b.hasModifier();if((b.spaceKey()||b.enterKey())&&ga!=null){this.fY(b,xb.getAttribute(ub.t));this.hide(true);}else if(ja==ub.u||ja==ub.v||ja==ub.w){if(b.downArrow()&&!U){this.aJ();}else return;}else if(b.leftArrow()||b.escapeKey()){this.hide(true);}else if(b.downArrow()){if(U)return;if(xb==k.lastChild||ga==null){this.dx(k.firstChild.nextSibling);}else this.dx(xb.nextSibling);}else if(b.upArrow()){if(U)return;if(xb==k.firstChild.nextSibling||ga==null){this.dx(k.lastChild);}else this.dx(xb.previousSibling);}else if(b.tabKey()){if(b.hasModifier(true))return;this.fY(b,xb.getAttribute(ub.t));ta[b.shiftKey()?ub.x:ub.y](this.getRendered(b),b);this.hide(false);return;}else return;b.cancelAll();};q.JF=function(r,n){if(this._ebKeyDown(r,n))return;this._isfocusing=false;var
db=r.hasModifier();if(!db&&(r.downArrow()||r.enterKey())){var
va=jsx3.gui.Heavyweight.GO(i.KL);var
Xa=va?(va.getRendered(r)).childNodes[0].childNodes[0]:null;if(Xa!=null&&Xa.getAttribute(ub.z)==this.getId()){if(!r.enterKey()){this._isfocusing=true;this.dx(Xa.childNodes[1]);}else{this.fY(r,Xa.childNodes[1].getAttribute(ub.t));this.hide(false);}}else{var
nb=r.enterKey()?ub.q:this.getText();this.aJ(nb);}r.cancelAll();}else if(r.tabKey()&&r.shiftKey()&&!r.hasModifier(true)){ta.focusPrevious(this.getRendered(r),r);}else if(!db&&(r.rightArrow()||r.leftArrow())){var
zb=r.leftArrow();var
Wa=this.EG();var
B=Wa.value;var
xa=ta.getSelection(Wa);if(zb&&(xa.getStartIndex()>0||xa.getEndIndex()>0)||!zb&&(xa.getStartIndex()<B.length||xa.getEndIndex()<B.length))r.cancelBubble();}else{var
Z=this.EG();var
x=Z.value;jsx3.sleep(function(){if(this.getParent()==null)return;var
Ia=Z.value;if(x!=Ia){this.jsxvalue=Ia;if(i.v8)window.clearTimeout(i.v8);var
ra=this;i.v8=window.setTimeout(function(){if(ra.getParent()==null)return;i.v8=null;ra.aJ(Ia);},i.TYPEAHEADDELAY);}},null,this);}};q.gu=function(m,s){this.NQ(m,s);};q.EG=function(g){g=this.getRendered(g);return g?this.getType()==1?g.childNodes[0].childNodes[0].childNodes[0]:g.childNodes[0].childNodes[0]:null;};q.show=function(){var
yb=this.getRendered();if(yb)this.aJ();};q.hO=function(c,j){var
Pa=c.srcElement();while(Pa!=null&&(!Pa.getAttribute||Pa.getAttribute(ub.t)==null)){Pa=Pa.parentNode;if(Pa==j)Pa=null;}if(Pa!=null)this.fY(c,Pa.getAttribute(ub.t));this.hide(true);};q.dx=function(o){if(this._jsxsW){try{this._jsxsW.style.backgroundImage=ub.A+jsx3.gui.Block.SPACE+ub.B;}catch(Kb){}this._jsxsW=null;}if(o){ta.focus(o);o.style.backgroundImage=ub.A+i.OVERIMAGE+ub.B;this._jsxsW=o;var
Y=jsx3.gui.Heavyweight.GO(i.KL);Y.scrollTo(o);}};q.KW=function(s,m){var
ba=m.value;var
Bb=ba.indexOf(ub.C)==-1?[ub.D,ba,ub.E,ba,ub.F].join(ub.q):[ub.G,ba,ub.H,ba,ub.I].join(ub.q);var
yb=(this.getXML()).selectSingleNode(Bb);if(!this._isfocusing){if(yb!=null){this.fY(s,yb.getAttribute(ub.t));}else this.jsxvalue=ba;delete this[ub.J];}};q.hide=function(o){if(i.J0==this){var
G=jsx3.gui.Heavyweight.GO(i.KL);if(G)G.destroy();if(o)try{this.focus();}catch(Kb){}na.unsubscribeLoseFocus(this);i.J0=null;}if(i.v8){i.v8=null;window.clearTimeout(i.v8);}};i.hideOptions=function(){if(i.J0!=null)i.J0.hide();};i.rq=function(){var
jb=ta.getMode();if(jb==2&&jsx3.CLASS_LOADER.IE7)jb=jb+ub.K;return jb;};q.aJ=function(k){if(this._jsxopening)return;var
cb=this.getRendered();if(cb!=null){var
Na=this.getType();var
F=cb.ownerDocument;if(i.J0!=null)i.J0.hide(false);i.J0=this;var
tb=this.getAbsolutePosition((F.getElementsByTagName(ub.L))[0]);var
ba=tb.W;var
Nb=this.getType()==1;var
Sa={};Sa.jsxtabindex=this.getIndex()?this.getIndex():0;Sa.jsxselectedimage=i.SELECTEDIMAGE;Sa.jsxtransparentimage=jsx3.gui.Block.SPACE;Sa.jsxdragtype=ub.M;Sa.jsxid=this.getId();Sa.jsxselectedid=this.getValue()==null?ub.N:this.getValue();Sa.jsxpath=jsx3.getEnv(ub.O);Sa.jsxpathapps=jsx3.getEnv(ub.P);Sa.jsxpathprefix=(this.getUriResolver()).getUriPrefix();Sa.jsxappprefix=(this.getServer()).getUriPrefix();Sa.jsxmode=i.rq();if(Nb){Sa.jsxsortpath=ub.Q;Sa.jsx_type=ub.R;}if(k!=null)Sa.jsxtext=k;var
L=this.getXSLParams();for(var Hb in L)Sa[Hb]=L[Hb];var
vb=this.doTransform(Sa);if(!jsx3.xml.Template.supports(1))vb=ta.removeOutputEscapingSpan(vb);vb=this.Xl(vb);if(!vb.match(ub.S))vb=i.lR.format(this._getLocaleProp(ub.T+(Na==0?ub.U:ub.V)));var
X=new
jsx3.gui.Painted.Box({width:ba,height:1,border:ub.W});X.calculate();var
lb=X.Nd();var
za=ub.X+lb+ub.Y+ub.Z;var
mb=ub._+this.getId()+ub.aa+this.pi(ub.ba,ub.ca)+this.pi(ub.da,ub.ea)+this.pi(ub.fa,ub.ga)+this.pi(ub.ha,ub.ia)+ub.ja+this.Uc()+ub.ka+lb+ub.la+this.wm()+this.ze()+this._i()+this.Ak()+ub.ma+za+vb+ub.na;var
da=new
jsx3.gui.Heavyweight(i.KL,this);da.setHTML(mb);da.setScrolling(true);da.addXRule(cb,ub.oa,ub.oa,0);da.addXRule(cb,ub.pa,ub.pa,0);da.addYRule(cb,ub.qa,ub.ra,0);da.addYRule(cb,ub.ra,ub.qa,0);da.show();var
K=da.getRendered();var
Wa=K.childNodes[0].childNodes[0];var
pa=Math.max(Wa.offsetWidth-2,Wa.clientWidth)+ub.sa;if(jsx3.CLASS_LOADER.IE)for(var
u=0;u<Wa.childNodes.length;u++){var
Ia=Wa.childNodes[u];if(Ia.nodeName&&Ia.nodeName.toLowerCase()==ub.ta&&Ia.getAttribute(ub.t))Wa.childNodes[u].style.width=pa;}if(Na==0||k==null){this._jsxopening=true;jsx3.sleep(function(){if(this.getParent()==null)return;delete this[ub.ua];var
sa=this.getRecordNode(this.getValue());var
y=sa?(this.getDocument()).getElementById(this.getId()+ub.va+this.getValue()):null;try{if(y)this.dx(y);else ta.focus(Wa);}catch(Kb){ab.info(ub.wa+jsx3.NativeError.wrap(Kb));}},null,this);}else ta.focus(this.EG());na.subscribeLoseFocus(this,cb,ub.xa);}};q.uu=function(o){var
aa=o.event.srcElement();if(!this.containsHtmlElement(aa))this.hide(false);};q.Rc=function(p,m,b){var
cb=this.Wl(true,p);if(m){var
ya=cb.recalculate(p,m,b);if(!ya.w&&!ya.h)return;var
D=cb.lg(0);D.recalculate({parentwidth:cb.Nd(),parentheight:cb.Qi()},m?m.childNodes[0]:null,b);var
ia=D.lg(0);if(this.getType()!=0){var
Ba=ia.lg(0);Ba.recalculate({parentwidth:D.Nd()-1,parentheight:D.Qi()},m?ta.selectSingleElm(m,0,0,0):null,b);}else ia.recalculate({parentwidth:D.Nd(),parentheight:D.Qi()},m?m.childNodes[0].childNodes[0]:null,b);}};q.Vm=function(k){if(this.getParent()&&(k==null||isNaN(k.parentwidth)||isNaN(k.parentheight))){k=(this.getParent()).ng(this);}else if(k==null)k={};var
db=this.getRelativePosition()!=0&&(!this.getRelativePosition()||this.getRelativePosition()==1);var
qb,Ia,Ea,va,P;k.tagname=ub.ya;k.border=(qb=this.getBorder())!=null&&qb!=ub.q?qb:ub.za;k.margin=db&&(Ia=this.getMargin())!=null&&Ia!=ub.q?Ia:null;if(!k.boxtype)k.boxtype=db?ub.Aa:ub.Ba;if(k.left==null)k.left=!db&&!jsx3.util.strEmpty(this.getLeft())?this.getLeft():0;if(k.top==null)k.top=!db&&!jsx3.util.strEmpty(this.getTop())?this.getTop():0;if(k.width==null)k.width=(va=this.getWidth())!=null?va:100;if(k.height==null)k.height=(P=this.getHeight())!=null?P:18;k.padding=ub.Ca;var
T=new
jsx3.gui.Painted.Box(k);var
wb={};wb.tagname=ub.ta;wb.boxtype=ub.Aa;if((Ea=this.getPadding())!=null&&Ea!=ub.q){wb.padding=Ea;}else wb.padding=ub.Da;wb.parentwidth=T.Nd();wb.parentheight=T.Qi();wb.left=0;wb.top=0;wb.width=ub.Ea;wb.height=ub.Ea;var
L=new
jsx3.gui.Painted.Box(wb);T.bl(L);if(this.getType()==0){wb={};wb.tagname=ub.ta;wb.boxtype=ub.Aa;wb.padding=ub.Fa;wb.parentwidth=L.Nd();wb.parentheight=L.Qi();wb.width=ub.Ea;wb.height=ub.Ea;var
C=new
jsx3.gui.Painted.Box(wb);L.bl(C);}else{wb={};wb.tagname=ub.ta;wb.boxtype=ub.Ga;var
C=new
jsx3.gui.Painted.Box(wb);L.bl(C);wb={};wb.tagname=ub.Ha;wb.boxtype=ub.Aa;wb.parentwidth=L.Nd()-1;wb.parentheight=L.Qi();wb.width=ub.Ea;wb.height=ub.Ea;wb.padding=ub.Ia;wb.empty=true;wb.border=ub.Ja;var
Va=new
jsx3.gui.Painted.Box(wb);C.bl(Va);}return T;};q.paint=function(){this.applyDynamicProperties();if(this.getXmlAsync())var
G=this.getXML();var
U=this.getId();var
ja=this.getEnabled()==1;var
F={};if(ja){F[ub.fa]=true;if(this.hasEvent(ub.Ka))F[ub.La]=true;if(this.getType()==1){F[ub.ba]=ub.Ma;F[ub.Na]=true;}else F[ub.ba]=ub.Oa;}var
aa=this.Pj(F,0);var
V=this.renderAttributes(null,true);var
fa=this.Wl(true);fa.setAttributes(ub.Pa+U+ub.aa+this.di()+ub.Qa+this.kf()+ub.Ra+V+aa+this.uj());fa.setStyles(this.Gd()+this.Uc()+ub.Sa+this.getIcon(i.ARROWICON)+ub.Ta+this.en()+this.qg()+this.Ne()+this.Ae()+this.yg(1));var
Oa=fa.lg(0);Oa.setAttributes(ub.Ua+this.Rh());Oa.setStyles(ub.q);if(this.getType()==0){var
ua=Oa.lg(0);ua.setAttributes(ub.Va+ta.pe);ua.setStyles(this.wm()+this.ze()+this._i()+this.Gd()+this.Ak());var
Ja=(fa.paint()).join((Oa.paint()).join((ua.paint()).join(jsx3.util.strEscapeHTML(this.ii()))));}else{var
ua=Oa.lg(0);ua.setAttributes(ub.Wa);var
Aa=ua.lg(0);Aa.setAttributes(this.uj()+this.paintMaxLength()+this.fe()+ub.Xa+jsx3.util.strEscapeHTML(this.ii())+ub.Ya+this.pi(ub.Za,ub._a,3));Aa.setStyles(this.wm()+this.ze()+this._i()+this.Gd()+this.Ak()+this.Uc());var
Ja=(fa.paint()).join((Oa.paint()).join((ua.paint()).join((Aa.paint()).join(ub.q))));}return Ja;};q.onXmlBinding=function(s){this.jsxsupermix(s);this.setText(this.ii());};q.Xg=function(h,e){if(!h.leftButton())return;if((h.srcElement()).tagName.toLowerCase()!=ub.ab){if(i.J0==this){this.hide(true);}else this.aJ();}else this.dx();};q.Ik=function(f,g){ta.focus(this.EG(g));this.dx();};q.UC=function(j,o){j.cancelBubble();};q.j8=function(l,a){var
_a=i.rH(l,a);if(_a){if(l.isFakeOver(_a))return;this._isfocusing=true;this.dx(_a);}};i.rH=function(d,e){var
pb=d.srcElement();while(pb!=null&&pb.getAttribute(ub.t)==null){pb=pb.parentNode;if(pb==e||pb==e.ownerDocument)pb=null;}return pb;};q.setText=function(h){this.NV(h);return this;};q.NV=function(f){var
E=this.EG();if(E)if(this.getType()==1)E.value=f;else E.innerHTML=jsx3.util.strEscapeHTML(f);};q.focus=function(){var
Aa=this.getType()==1?this.EG():this.getRendered();if(Aa)ta.focus(Aa);return Aa;};q.setValue=function(j){this.fY(this.isOldEventProtocol(),j);return this;};q.fY=function(j,p){if(p!=this.getValue()){var
Nb=true;if(j instanceof na)Nb=this.doEvent(ub.bb,{objEVENT:j,strRECORDID:p});if(Nb===false)return;this.jsxvalue=p;this.redrawRecord(p,2);if(j)this.doEvent(ub.cb,{objEVENT:j instanceof na?j:null,strRECORDID:p,_gipp:1});}};q.getIcon=function(a){return !jsx3.util.strEmpty(this.jsxicon)?(this.getServer()).resolveURI(this.jsxicon):a;};q.setIcon=function(h){this.jsxicon=h;};q.getValue=function(){return this.jsxvalue!=null?this.jsxvalue:null;};q.getText=function(){var
E=this.getRecordNode(this.getValue());if(E!=null){var
La=E.getAttribute(ub.Q);return La!=null?La:E.getAttribute(ub.t);}else return this.getType()==1||this.getValue()!=null?this.getValue():this.getDefaultText();};q.redrawRecord=function(b,m){if(this.getValue()==b){var
ca=this.getRecordNode(b);if(ca!=null){var
E=ca.getAttribute(ub.Q);this.NV(E!=null?E:ca.getAttribute(ub.t));}else this.NV(this.getType()==0?this.getDefaultText():b!=null?b:ub.q);}return this;};i.getVersion=function(){return ub.db;};q.containsHtmlElement=function(c){var
Ea=jsx3.gui.Heavyweight.GO(i.KL);return this.jsxsuper(c)||Ea!=null&&Ea.containsHtmlElement(c);};q.getMaxLength=function(){return this.jsxmaxlength!=null?this.jsxmaxlength:null;};q.setMaxLength=function(m){m=parseInt(m);this.jsxmaxlength=m>0?m:null;return this;};q.paintMaxLength=function(s){return this.getMaxLength()!=null?ub.eb+this.getMaxLength()+ub.fb:ub.q;};q.kf=function(){var
ba=this.getClassName();return i.DEFAULTCLASSNAME+(ba?ub.gb+ba:ub.q);};q.updateGUI=function(s,c){if(s.search(ub.hb)==0)this.jsxsuper(s,c);if(s.search(ub.ib)==0){var
Db=this.EG();if(Db)try{Db.style[s]=c;}catch(Kb){}}};q.emInit=function(f){this.jsxsupermix(f);this.subscribe(ub.cb,this,ub.jb);};q.emCollapseEdit=function(p){this.hide(false);};q.C0=function(o){this.commitEditMask(o.context.objEVENT,true);};});jsx3.Select=jsx3.gui.Select;
